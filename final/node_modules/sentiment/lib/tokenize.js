/*eslint no-useless-escape: "off"*/
const nodejieba = require("nodejieba");

/**
 * Remove special characters and return an array of tokens (words).
 * @param  {string} input Input string
 * @return {array}        Array of tokens
 */
module.exports = function (input) {
    let newInput = input
        .replace(/\n/g, '')
        .replace(/[.,!?$%\^&\*;:{}=_`\"~()。，？！：\/（）“”‘’；#￥……——0-9]/g, '')
        .replace(/\s\s+/g, '');
    return nodejieba.cut(newInput);
    // return input
    //     .toLowerCase()
    //     .replace(/\n/g, ' ')
    //     .replace(/[.,\/#!?$%\^&\*;:{}=_`\"~()]/g, ' ')
    //     .replace(/\s\s+/g, ' ')
    //     .trim()
    //     .split(' ');
};


// console.log(test(`不是我带着这块石头，是这块石头死死地跟着我。
// 钱像熨斗，能把人熨平，没有一丝褶皱。如果有钱，我会比他们还善良。
// 这些精辟，俨然金句的老辣台词，很快会流行起来——出现在你明年的电影日历上。
// 我从第一个镜头开始，就想起2012年北京那场大暴雨。
// 许多居民，发现小区冒出来许多平时看不见的人。
// 原来各种地下室里头，还有上百万人。
// 最后他们作为低端人口，一起被慢慢擦掉。
// 大洪水来的时候，谁能陪你点一根烟，话说从前`))

// console.log(test("I love you."))